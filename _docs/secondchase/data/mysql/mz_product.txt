
select `id`,`name`,`original_price`,`present_price`,`mz_pid` from `mz_product`;


mysql> select `id`,`name`,`original_price`,`present_price`,`mz_pid` from `mz_product`;
+----+----------------------------------------------------------+----------------+---------------+--------+
| id | name                                                     | original_price | present_price | mz_pid |
+----+----------------------------------------------------------+----------------+---------------+--------+
|  1 | 小米小爱音箱 Pro                                         |          29900 |           100 | MZ0101 |
|  2 | 小米手环4 NFC版                                          |          22900 |           100 | MZ0102 |
|  3 | 小米移动电源3 10000mAh 银色                              |          12900 |           100 | MZ0103 |
|  4 | I Do BOOM瓷系列 18K金真钻石锁骨项链 黑陶色               |         199900 |           100 | MZ0104 |
|  5 | I Do 心扉系列 18K金钻石锁骨项链                          |         279900 |           100 | MZ0105 |
+----+----------------------------------------------------------+----------------+---------------+--------+
5 rows in set (0.00 sec)
mysql>


update `mz_product` set `present_price`=28900 where id=1;
update `mz_product` set `present_price`=19900 where id=2;
update `mz_product` set `present_price`=12500 where id=3;
update `mz_product` set `present_price`=195000 where id=4;
update `mz_product` set `present_price`=272900 where id=5;


mysql> select `id`,`name`,`original_price`,`present_price`,`mz_pid` from `mz_product`;
+----+----------------------------------------------------------+----------------+---------------+--------+
| id | name                                                     | original_price | present_price | mz_pid |
+----+----------------------------------------------------------+----------------+---------------+--------+
|  1 | 小米小爱音箱 Pro                                         |          29900 |         28900 | MZ0101 |
|  2 | 小米手环4 NFC版                                          |          22900 |         19900 | MZ0102 |
|  3 | 小米移动电源3 10000mAh 银色                              |          12900 |         12500 | MZ0103 |
|  4 | I Do BOOM瓷系列 18K金真钻石锁骨项链 黑陶色               |         199900 |        195000 | MZ0104 |
|  5 | I Do 心扉系列 18K金钻石锁骨项链                          |         279900 |        272900 | MZ0105 |
+----+----------------------------------------------------------+----------------+---------------+--------+
5 rows in set (0.00 sec)
mysql>


get lottery:buy:product

[zyx@iZ2ze09hymnzdkgokgaru0Z ~]$ redis-cli -p 7001 -h 127.0.0.1 -a oben.com -c
Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.
127.0.0.1:7001> keys lottery*
1) "lottery:prizes"
2) "lottery:step:tsl"
127.0.0.1:7001> hget lottery:buy:product 1
-> Redirected to slot [12940] located at 172.17.132.191:7001
"{\"id\":1,\"name\":\"\xe5\xb0\x8f\xe7\xb1\xb3\xe5\xb0\x8f\xe7\x88\xb1\xe9\x9f\xb3\xe7\xae\xb1 Pro\",\"original_price\":29900,\"present_price\":100,\"sort\":1,\"thumb_image_url\":\"https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/1.jpg\",\"image_urls\":\"https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/1.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/2.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/3.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/4.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/5.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/6.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/7.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/8.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/9.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/10.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/11.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/12.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/13.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/14.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/15.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/16.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/17.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/18.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/19.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/20.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/detail/21.jpg\",\"banner_urls\":\"https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/1.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/2.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/3.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/4.jpg,https://secondschased.oss-cn-beijing.aliyuncs.com/goods/mz0101/main/5.jpg\",\"sku\":\"750mL\xe8\xb6\x85\xe5\xa4\xa7\xe9\x9f\xb3\xe8\x85\x94\xe5\xae\xb9\xe7\xa7\xaf / AUX IN \xe6\x94\xaf\xe6\x8c\x81\xe6\x9c\x89\xe7\xba\xbf\xe8\xbf\x9e\xe6\x8e\xa5 / \xe7\xbb\x84\xe5\x90\x88\xe7\xab\x8b\xe4\xbd\x93\xe5\xa3\xb0 / \xe4\xb8\x93\xe4\xb8\x9a\xe7\xba\xa7DTS\xe9\x9f\xb3\xe6\x95\x88 / Hi-Fi\xe7\xba\xa7\xe9\x9f\xb3\xe9\xa2\x91\xe8\x8a\xaf\xe7\x89\x87 / \xe6\x94\xaf\xe6\x8c\x81\xe7\xba\xa2\xe5\xa4\x96\xe9\x81\xa5\xe6\x8e\xa7\xe4\xbc\xa0\xe7\xbb\x9f\xe5\xae\xb6\xe7\x94\xb5 / \xe8\x93\x9d\xe7\x89\x99Mesh\xe7\xbd\x91\xe5\x85\xb3\",\"type\":1,\"product_status\":1,\"ship_address\":\"\xe5\x8c\x97\xe4\xba\xac\",\"sale_support\":\"\xe5\xae\x98\xe6\x96\xb9\xe6\x8e\x88\xe6\x9d\x83 \xe7\xa7\x92\xe8\xbf\xbd\xe7\x9b\xb4\xe5\x8f\x91 \xe5\x81\x87\xe4\xb8\x80\xe8\xb5\x94\xe5\x9b\x9b \xe6\xad\xa3\xe5\x93\x81\xe4\xbf\x9d\xe8\xaf\x81\",\"description\":\"\",\"reward\":2,\"sold_count\":1029,\"mz_pid\":\"MZ0101\",\"category\":\"\xe5\xb0\x8f\xe7\xb1\xb3/\xe9\x9f\xb3\xe5\x93\x8d\",\"created_at\":\"2020-06-04T15:11:12+08:00\",\"updated_at\":\"2020-06-12T14:20:31+08:00\"}"
172.17.132.191:7001> keys lottery*
1) "lottery:step:iphone"
2) "lottery:buy:product"
3) "lottery:remain:userid_0"
172.17.132.191:7001> del lottery:buy:product
(integer) 1
172.17.132.191:7001> hget lottery:buy:product 1
(nil)
172.17.132.191:7001>
172.17.132.191:7001> hget lottery:buy:product 1
(nil)
172.17.132.191:7001>
172.17.132.191:7001> hget lottery:buy:product 2
(nil)
172.17.132.191:7001> hget lottery:buy:product 3
(nil)
172.17.132.191:7001> hget lottery:buy:product 4
(nil)
172.17.132.191:7001> hget lottery:buy:product 5
(nil)
172.17.132.191:7001>
