
d930b881d16b4c62c94e70aceedf0b61
{
    "password":"1234567890"
}
{
    "code": 20104,
    "msg": "密码错误; 用户id=13"
}

{"level":"debug","msg":"sign before: POST127.0.0.1:3000/api/v1/mine/verifypassword{\"password\":\"1234567890\"}1234567890com.obencn.secondchase.3671e28d-e384-49e6-9cea-4d8cb80288d4","source":"head.go:116:middleware.Options","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"server sign: d930b881d16b4c62c94e70aceedf0b61, \tuser sign: d930b881d16b4c62c94e70aceedf0b61","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"request uri=/api/v1/mine/verifypassword JWT 验证token","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"request token=eyJhbGciOiJIUzI1NiIsImN0eSI6IkpXVCIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzZWNvbmRjaGFzZS5nYXRld2F5Iiwic3ViIjoiQWNjZXNzVG9rZW4iLCJhdWQiOiJodHRwczovL2JhY2tzdGFnZS5vYmVuY24uY29tIiwiZXhwIjoxNTkyNDQ4MjE4LCJuYmYiOjE1OTIzNjE1MTgsImlhdCI6MTU5MjM2MTgxOCwianRpIjoiZjRiODZiZmUtODVhNy00ZDBhLTkwMjktMGMwMjAwODQ4MWJlIiwidXNlcl9pZCI6MTN9._mdQ481nujDYy57Bh6p8hGbv6bJXrQ0U0JAcDJnd7rg","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"request uri=/api/v1/mine/verifypassword middleware Casbin 不验证权限","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"mineService VerifyPassword req={Password:1234567890}","source":"mine.go:105:handler.(*mineHandler).VerifyPassword.func1","time":"2020-06-17T10:51:15+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/user.go:9141.8865msSELECT * FROM `bs_user`  WHERE (id=?) ORDER BY `bs_user`.`id` ASC LIMIT 1[13] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"userRepo VerifyPassword userId=13 user=\u0026{ID:13 Password:51f22a1d702815e72b593ca36de88a9c9999e57a RealName:姓名12 Email:user12@email.com Phone:18813141012 UserStatus:1 CreatorId:1 OrganizationId:0 DepartmentId:0 Desc:用户12 CreatedAt:2020-06-16 16:12:01 +0800 CST UpdatedAt:2020-06-16 18:59:20 +0800 CST}","source":"mine.go:127:service.(*mineService).VerifyPassword","time":"2020-06-17T10:51:15+08:00"}
{"level":"debug","msg":"userRepo VerifyPassword 密码校验未通过 数据库密码=51f22a1d702815e72b593ca36de88a9c9999e57a 输入密码=8e5c169707dd5c5af0bc071b4de992b0fdbdf8a3","source":"mine.go:127:service.(*mineService).VerifyPassword","time":"2020-06-17T10:51:15+08:00"}
{"level":"error","msg":"密码错误; 用户id=13","source":"casbin.go:35:middleware.CasbinVerifyUserPermission.func1","time":"2020-06-17T10:51:15+08:00"}


13f2f59fdf00fb0dfb5f4c6f62521c49
{
    "password":"asdf1234"
}
{
    "code": 0,
    "msg": "SUCCESS"
}
{"level":"debug","msg":"sign before: POST127.0.0.1:3000/api/v1/mine/verifypassword{\"password\":\"asdf1234\"}1234567890com.obencn.secondchase.3671e28d-e384-49e6-9cea-4d8cb80288d4","source":"head.go:116:middleware.Options","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"server sign: 13f2f59fdf00fb0dfb5f4c6f62521c49, \tuser sign: 13f2f59fdf00fb0dfb5f4c6f62521c49","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"request uri=/api/v1/mine/verifypassword JWT 验证token","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"request token=eyJhbGciOiJIUzI1NiIsImN0eSI6IkpXVCIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzZWNvbmRjaGFzZS5nYXRld2F5Iiwic3ViIjoiQWNjZXNzVG9rZW4iLCJhdWQiOiJodHRwczovL2JhY2tzdGFnZS5vYmVuY24uY29tIiwiZXhwIjoxNTkyNDQ4MjE4LCJuYmYiOjE1OTIzNjE1MTgsImlhdCI6MTU5MjM2MTgxOCwianRpIjoiZjRiODZiZmUtODVhNy00ZDBhLTkwMjktMGMwMjAwODQ4MWJlIiwidXNlcl9pZCI6MTN9._mdQ481nujDYy57Bh6p8hGbv6bJXrQ0U0JAcDJnd7rg","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"request uri=/api/v1/mine/verifypassword middleware Casbin 不验证权限","source":"context.go:161:gin.(*Context).Next","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"mineService VerifyPassword req={Password:asdf1234}","source":"mine.go:105:handler.(*mineHandler).VerifyPassword.func1","time":"2020-06-17T10:53:10+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/user.go:9158.7841msSELECT * FROM `bs_user`  WHERE (id=?) ORDER BY `bs_user`.`id` ASC LIMIT 1[13] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"userRepo VerifyPassword userId=13 user=\u0026{ID:13 Password:51f22a1d702815e72b593ca36de88a9c9999e57a RealName:姓名12 Email:user12@email.com Phone:18813141012 UserStatus:1 CreatorId:1 OrganizationId:0 DepartmentId:0 Desc:用户12 CreatedAt:2020-06-16 16:12:01 +0800 CST UpdatedAt:2020-06-16 18:59:20 +0800 CST}","source":"mine.go:127:service.(*mineService).VerifyPassword","time":"2020-06-17T10:53:10+08:00"}
{"level":"debug","msg":"userRepo VerifyPassword 密码校验通过 数据库密码=51f22a1d702815e72b593ca36de88a9c9999e57a 输入密码=51f22a1d702815e72b593ca36de88a9c9999e57a","source":"mine.go:127:service.(*mineService).VerifyPassword","time":"2020-06-17T10:53:10+08:00"}


