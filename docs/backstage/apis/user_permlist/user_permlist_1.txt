
2 admin1

43310d71dd8249fd2f6cf4d7739efb24
{
	"user_id":1
}


{"level":"debug","msg":"sign before: POST127.0.0.1:3000/api/v1/user/permlist{\"user_id\":1}1234567890com.obencn.secondchase.3671e28d-e384-49e6-9cea-4d8cb80288d4","source":"head.go:116:middleware.Options","time":"2020-05-27T18:45:51+08:00"}
{"level":"debug","msg":"server sign: 43310d71dd8249fd2f6cf4d7739efb24, \tuser sign: 43310d71dd8249fd2f6cf4d7739efb24","source":"context.go:161:gin.(*Context).Next","time":"2020-05-27T18:45:51+08:00"}
{"level":"debug","msg":"request uri=/api/v1/user/permlist JWT 验证token","source":"context.go:161:gin.(*Context).Next","time":"2020-05-27T18:45:51+08:00"}
{"level":"debug","msg":"request token=eyJhbGciOiJIUzI1NiIsImN0eSI6IkpXVCIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzZWNvbmRjaGFzZS5nYXRld2F5Iiwic3ViIjoiQWNjZXNzVG9rZW4iLCJhdWQiOiJodHRwczovL2JhY2tzdGFnZS5vYmVuY24uY29tIiwiZXhwIjoxNTkwNjU2NjA4LCJuYmYiOjE1OTA1Njk5MDgsImlhdCI6MTU5MDU3MDIwOCwianRpIjoiYjQzYzkyZTQtMDQwOC00ZmYyLWI4YjEtNDMzOTEwODgzYjNmIiwidXNlcl9pZCI6Mn0.0bQG5iKpIeKXvU39kt0kZibiCfTSf_Bdwv2sQ0wW0Zs","source":"context.go:161:gin.(*Context).Next","time":"2020-05-27T18:45:51+08:00"}
{"level":"debug","msg":"request uri=/api/v1/user/permlist middleware Casbin 验证权限","source":"context.go:161:gin.(*Context).Next","time":"2020-05-27T18:45:51+08:00"}
{"level":"debug","msg":"userService PermList req={UserId:1}","source":"user.go:253:handler.(*userHandler).PermList.func1","time":"2020-05-27T18:45:51+08:00"}
2020/05/27 18:45:51 Request: 2, /api/v1/user/permlist, POST ---> true
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/user_role.go:6219.9473msSELECT * FROM `bs_user_role`  WHERE (status=? AND user_id=?)[1 1] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/role.go:9918.882msSELECT * FROM `bs_role`  WHERE (id=?) ORDER BY `bs_role`.`id` ASC LIMIT 1[1] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/role_permission.go:5219.1535msSELECT * FROM `bs_role_permission`  WHERE (status=? AND role_id=?)[1 1] 13","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.9947msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[1] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6819.9226msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[2] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.6995msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[3] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.991msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[4] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.3276msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[5] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6819.7495msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[6] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.9274msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[7] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.8964msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[8] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.9529msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[9] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.4323msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[10] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.7446msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[11] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6825.9217msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[12] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6819.5486msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[13] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}



userService PermList req={UserId:1}
2020/05/27 18:45:51 Request: 2, /api/v1/user/permlist, POST ---> true

SELECT * FROM `bs_user_role`  WHERE (status=? AND user_id=?)[1 1] 1
SELECT * FROM `bs_role`  WHERE (id=?) ORDER BY `bs_role`.`id` ASC LIMIT 1[1] 1
SELECT * FROM `bs_role_permission`  WHERE (status=? AND role_id=?)[1 1] 13
SELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[1] 1
SELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[2] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
SELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[3] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.991msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[4] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.3276msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[5] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6819.7495msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[6] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.9274msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[7] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6817.8964msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[8] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.9529msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[9] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.4323msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[10] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6818.7446msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[11] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6825.9217msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[12] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
{"level":"info","msg":"sqlC:/oben/project/backstage/repository/permission.go:6819.5486msSELECT * FROM `bs_permission`  WHERE (id=?) ORDER BY `bs_permission`.`id` ASC LIMIT 1[13] 1","source":"scope.go:1047:gorm.(*Scope).trace","time":"2020-05-27T18:45:51+08:00"}
